<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>The Realistic Cat Escape</title>
    <style>
        body { margin: 0; background: #000; overflow: hidden; font-family: 'Cairo', sans-serif; touch-action: none; }
        #overlay { 
            position: fixed; inset: 0; background: rgba(0,0,0,0.9); 
            z-index: 1000; display: flex; flex-direction: column; align-items: center; justify-content: center;
        }
        .window { 
            background: #1a1a2e; padding: 25px; border-radius: 30px; border: 2px solid #ffd700;
            width: 85%; max-width: 400px; text-align: center; color: white; box-shadow: 0 0 40px #ffd70044;
        }
        .btn-start { 
            background: #ffd700; color: #000; padding: 15px 60px; border-radius: 50px;
            border: none; font-size: 22px; font-weight: bold; cursor: pointer; margin-top: 25px;
        }
        #hud { position: fixed; top: 15px; left: 15px; color: #ffd700; font-size: 18px; z-index: 100; font-weight: bold; }
        canvas { display: block; }
    </style>
</head>
<body>

<div id="hud">Ø§Ù„Ù…Ø³Ø§ÙØ©: <span id="dist">0</span> Ù…ØªØ±</div>

<div id="overlay">
    <div class="window">
        <h2 style="color:#ffd700;">ğŸŒŸ Ù…ØªØ¬Ø± Ø§Ù„Ù‚Ø·Ø· Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠ ğŸŒŸ</h2>
        <p>Ù‚Ø·Ø© Ù‡Ù…Ù„Ø§ÙŠØ§ Ø­Ù‚ÙŠÙ‚ÙŠØ©!</p>
        <div style="background:rgba(255,255,255,0.05); padding:10px; border-radius:15px; font-size:12px;">
            ØªØ£ÙƒØ¯ Ù…Ù† Ù„Ù…Ø³ Ø§Ù„Ø´Ø§Ø´Ø© Ù„ØªØ¨Ù‚Ù‰ Ø§Ù„Ù‚Ø·Ø© Ø·Ø§Ø¦Ø±Ø© ğŸš€
        </div>
    </div>
    <button class="btn-start" id="playBtn">Ø¥Ø¨Ø¯Ø£ Ø§Ù„Ù…ØºØ§Ù…Ø±Ø©</button>
</div>

<canvas id="game"></canvas>

<script>
const canvas = document.getElementById('game'), ctx = canvas.getContext('2d');
const overlay = document.getElementById('overlay'), playBtn = document.getElementById('playBtn');

let active = false, frame = 0, score = 0, enemies = [];
let cat = { x: 80, y: 0, v: 0, g: 0.45, j: -8.5, legAngle: 0 };

function resize() { canvas.width = window.innerWidth; canvas.height = window.innerHeight; }
window.onresize = resize; resize();

playBtn.onclick = () => {
    overlay.style.display = 'none';
    cat.y = canvas.height / 2;
    cat.v = 0; score = 0; enemies = []; frame = 0;
    active = true;
    loop();
};

window.onmousedown = () => { if(active) cat.v = cat.j; };
window.ontouchstart = (e) => { if(active) cat.v = cat.j; e.preventDefault(); };

function drawCat() {
    cat.legAngle = Math.sin(frame * 0.15) * 0.5;
    ctx.save();
    ctx.translate(cat.x, cat.y);
    
    // Ø§Ù„Ø£Ø±Ø¬Ù„ (Ø­Ø±ÙƒØ© Ø·Ø¨ÙŠØ¹ÙŠØ© Ø£ÙƒØ«Ø±)
    ctx.strokeStyle = "#ffd700"; ctx.lineWidth = 3;
    // Ø±Ø¬Ù„ÙŠÙ† Ø£Ù…Ø§Ù…ÙŠØªÙŠÙ†
    ctx.beginPath(); ctx.moveTo(10, 5); ctx.lineTo(15 + cat.legAngle*15, 20); ctx.stroke();
    ctx.beginPath(); ctx.moveTo(5, 5); ctx.lineTo(10 - cat.legAngle*15, 20); ctx.stroke();
    // Ø±Ø¬Ù„ÙŠÙ† Ø®Ù„ÙÙŠØªÙŠÙ†
    ctx.beginPath(); ctx.moveTo(-10, 5); ctx.lineTo(-15 + cat.legAngle*15, 20); ctx.stroke();
    ctx.beginPath(); ctx.moveTo(-15, 5); ctx.lineTo(-20 - cat.legAngle*15, 20); ctx.stroke();

    // Ø§Ù„Ø¬Ø³Ù… ÙˆØ§Ù„Ø°ÙŠÙ„
    ctx.fillStyle = "#ffd700";
    ctx.beginPath(); ctx.ellipse(0, 0, 25, 15, 0, 0, 7); ctx.fill();
    ctx.beginPath(); ctx.arc(20, -10, 12, 0, 7); ctx.fill(); // Ø§Ù„Ø±Ø£Ø³
    
    // Ø°ÙŠÙ„ Ø·ÙˆÙŠÙ„ ÙˆØ¬Ù…ÙŠÙ„
    ctx.beginPath(); ctx.moveTo(-25, 0); ctx.quadraticCurveTo(-40, -20, -30, -30); ctx.stroke();
    
    // Ø§Ù„Ø¹ÙŠÙ†
    ctx.fillStyle = "black"; ctx.beginPath(); ctx.arc(25, -12, 2.5, 0, 7); ctx.fill();
    ctx.restore();
}

function drawMonster(e) {
    ctx.save();
    ctx.translate(e.x, e.y);
    // ÙˆØ­Ø´ "Ø§Ù„ØªÙ†ÙŠÙ† Ø§Ù„Ø¸Ù„ÙŠ"
    ctx.fillStyle = "#222";
    ctx.beginPath(); ctx.moveTo(-30, 0); ctx.lineTo(0, -20); ctx.lineTo(30, 0); ctx.lineTo(0, 20); ctx.close(); ctx.fill();
    // Ø¹ÙŠÙˆÙ† Ù…Ø±Ø¹Ø¨Ø©
    ctx.fillStyle = "red";
    ctx.beginPath(); ctx.arc(-5, -2, 3, 0, 7); ctx.arc(5, -2, 3, 0, 7); ctx.fill();
    ctx.restore();
}

function loop() {
    if(!active) return;
    frame++; score++;
    document.getElementById('dist').innerText = Math.floor(score/10);

    // Ø®Ù„ÙÙŠØ© Ù…ØªØ¯Ø±Ø¬Ø© ÙØ®Ù…Ø©
    let g = ctx.createLinearGradient(0, 0, 0, canvas.height);
    g.addColorStop(0, "#050515"); g.addColorStop(1, "#1a0a30");
    ctx.fillStyle = g; ctx.fillRect(0, 0, canvas.width, canvas.height);

    cat.v += cat.g;
    cat.y += cat.v;
    drawCat();

    if(frame % 90 == 0) enemies.push({ x: canvas.width, y: Math.random() * canvas.height });

    for(let i=enemies.length-1; i>=0; i--) {
        enemies[i].x -= 6;
        drawMonster(enemies[i]);
        if(Math.hypot(cat.x - enemies[i].x, cat.y - enemies[i].y) < 40) {
            active = false; overlay.style.display = 'flex';
        }
        if(enemies[i].x < -50) enemies.splice(i, 1);
    }

    if(cat.y > canvas.height || cat.y < 0) { active = false; overlay.style.display = 'flex'; }
    requestAnimationFrame(loop);
}
</script>
</body>
</html>